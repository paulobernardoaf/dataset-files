<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:cpp="http://www.srcML.org/srcML/cpp" revision="1.0.0" language="C" filename="D:\Pesquisa\Projects\ffmpeg-analysis\_cppstats\FFmpeg\libavcodec\atrac3plus.h"><cpp:include>#<cpp:directive>include</cpp:directive> <cpp:file>&lt;stdint.h&gt;</cpp:file></cpp:include>

<cpp:include>#<cpp:directive>include</cpp:directive> <cpp:file>"libavutil/float_dsp.h"</cpp:file></cpp:include>

<cpp:include>#<cpp:directive>include</cpp:directive> <cpp:file>"atrac.h"</cpp:file></cpp:include>

<cpp:include>#<cpp:directive>include</cpp:directive> <cpp:file>"avcodec.h"</cpp:file></cpp:include>

<cpp:include>#<cpp:directive>include</cpp:directive> <cpp:file>"fft.h"</cpp:file></cpp:include>

<cpp:include>#<cpp:directive>include</cpp:directive> <cpp:file>"get_bits.h"</cpp:file></cpp:include>

<cpp:define>#<cpp:directive>define</cpp:directive> <cpp:macro><name>ATRAC3P_SUBBANDS</name></cpp:macro> <cpp:value>16</cpp:value></cpp:define> 

<cpp:define>#<cpp:directive>define</cpp:directive> <cpp:macro><name>ATRAC3P_SUBBAND_SAMPLES</name></cpp:macro> <cpp:value>128</cpp:value></cpp:define> 

<cpp:define>#<cpp:directive>define</cpp:directive> <cpp:macro><name>ATRAC3P_FRAME_SAMPLES</name></cpp:macro> <cpp:value>(ATRAC3P_SUBBAND_SAMPLES * ATRAC3P_SUBBANDS)</cpp:value></cpp:define>

<cpp:define>#<cpp:directive>define</cpp:directive> <cpp:macro><name>ATRAC3P_PQF_FIR_LEN</name></cpp:macro> <cpp:value>12</cpp:value></cpp:define> 

<cpp:define>#<cpp:directive>define</cpp:directive> <cpp:macro><name>ATRAC3P_POWER_COMP_OFF</name></cpp:macro> <cpp:value>15</cpp:value></cpp:define> 

<enum>enum <name>Atrac3pChannelUnitTypes</name> <block>{

<decl><name>CH_UNIT_MONO</name> <init>= <expr><literal type="number">0</literal></expr></init></decl>, 

<decl><name>CH_UNIT_STEREO</name> <init>= <expr><literal type="number">1</literal></expr></init></decl>, 

<decl><name>CH_UNIT_EXTENSION</name> <init>= <expr><literal type="number">2</literal></expr></init></decl>, 

<decl><name>CH_UNIT_TERMINATOR</name> <init>= <expr><literal type="number">3</literal></expr></init></decl> 

}</block>;</enum>

<typedef>typedef <type><struct>struct <name>Atrac3pIPQFChannelCtx</name> <block>{

<expr_stmt><expr><call><name>DECLARE_ALIGNED</name><argument_list>(<argument><expr><literal type="number">32</literal></expr></argument>, <argument><expr><name>float</name></expr></argument>, <argument><expr><name>buf1</name></expr></argument>)</argument_list></call><index>[<expr><name>ATRAC3P_PQF_FIR_LEN</name> <operator>*</operator> <literal type="number">2</literal></expr>]</index><index>[<expr><literal type="number">8</literal></expr>]</index></expr>;</expr_stmt>

<expr_stmt><expr><call><name>DECLARE_ALIGNED</name><argument_list>(<argument><expr><literal type="number">32</literal></expr></argument>, <argument><expr><name>float</name></expr></argument>, <argument><expr><name>buf2</name></expr></argument>)</argument_list></call><index>[<expr><name>ATRAC3P_PQF_FIR_LEN</name> <operator>*</operator> <literal type="number">2</literal></expr>]</index><index>[<expr><literal type="number">8</literal></expr>]</index></expr>;</expr_stmt>

<decl_stmt><decl><type><name>int</name></type> <name>pos</name></decl>;</decl_stmt>

}</block></struct></type> <name>Atrac3pIPQFChannelCtx</name>;</typedef>

<typedef>typedef <type><struct>struct <name>Atrac3pWaveEnvelope</name> <block>{

<decl_stmt><decl><type><name>int</name></type> <name>has_start_point</name></decl>;</decl_stmt> 

<decl_stmt><decl><type><name>int</name></type> <name>has_stop_point</name></decl>;</decl_stmt> 

<decl_stmt><decl><type><name>int</name></type> <name>start_pos</name></decl>;</decl_stmt> 

<decl_stmt><decl><type><name>int</name></type> <name>stop_pos</name></decl>;</decl_stmt> 

}</block></struct></type> <name>Atrac3pWaveEnvelope</name>;</typedef>

<typedef>typedef <type><struct>struct <name>Atrac3pWavesData</name> <block>{

<decl_stmt><decl><type><name>Atrac3pWaveEnvelope</name></type> <name>pend_env</name></decl>;</decl_stmt> 

<decl_stmt><decl><type><name>Atrac3pWaveEnvelope</name></type> <name>curr_env</name></decl>;</decl_stmt> 

<decl_stmt><decl><type><name>int</name></type> <name>num_wavs</name></decl>;</decl_stmt> 

<decl_stmt><decl><type><name>int</name></type> <name>start_index</name></decl>;</decl_stmt> 

}</block></struct></type> <name>Atrac3pWavesData</name>;</typedef>

<typedef>typedef <type><struct>struct <name>Atrac3pWaveParam</name> <block>{

<decl_stmt><decl><type><name>int</name></type> <name>freq_index</name></decl>;</decl_stmt> 

<decl_stmt><decl><type><name>int</name></type> <name>amp_sf</name></decl>;</decl_stmt> 

<decl_stmt><decl><type><name>int</name></type> <name>amp_index</name></decl>;</decl_stmt> 

<decl_stmt><decl><type><name>int</name></type> <name>phase_index</name></decl>;</decl_stmt> 

}</block></struct></type> <name>Atrac3pWaveParam</name>;</typedef>

<typedef>typedef <type><struct>struct <name>Atrac3pChanParams</name> <block>{

<decl_stmt><decl><type><name>int</name></type> <name>ch_num</name></decl>;</decl_stmt>

<decl_stmt><decl><type><name>int</name></type> <name>num_coded_vals</name></decl>;</decl_stmt> 

<decl_stmt><decl><type><name>int</name></type> <name>fill_mode</name></decl>;</decl_stmt>

<decl_stmt><decl><type><name>int</name></type> <name>split_point</name></decl>;</decl_stmt>

<decl_stmt><decl><type><name>int</name></type> <name>table_type</name></decl>;</decl_stmt> 

<decl_stmt><decl><type><name>int</name></type> <name><name>qu_wordlen</name><index>[<expr><literal type="number">32</literal></expr>]</index></name></decl>;</decl_stmt> 

<decl_stmt><decl><type><name>int</name></type> <name><name>qu_sf_idx</name><index>[<expr><literal type="number">32</literal></expr>]</index></name></decl>;</decl_stmt> 

<decl_stmt><decl><type><name>int</name></type> <name><name>qu_tab_idx</name><index>[<expr><literal type="number">32</literal></expr>]</index></name></decl>;</decl_stmt> 

<decl_stmt><decl><type><name>int16_t</name></type> <name><name>spectrum</name><index>[<expr><literal type="number">2048</literal></expr>]</index></name></decl>;</decl_stmt> 

<decl_stmt><decl><type><name>uint8_t</name></type> <name><name>power_levs</name><index>[<expr><literal type="number">5</literal></expr>]</index></name></decl>;</decl_stmt> 

<decl_stmt><decl><type><name>uint8_t</name></type> <name><name>wnd_shape_hist</name><index>[<expr><literal type="number">2</literal></expr>]</index><index>[<expr><name>ATRAC3P_SUBBANDS</name></expr>]</index></name></decl>;</decl_stmt> 

<decl_stmt><decl><type><name>uint8_t</name> <modifier>*</modifier></type><name>wnd_shape</name></decl>;</decl_stmt> 

<decl_stmt><decl><type><name>uint8_t</name> <modifier>*</modifier></type><name>wnd_shape_prev</name></decl>;</decl_stmt> 

<decl_stmt><decl><type><name>AtracGainInfo</name></type> <name><name>gain_data_hist</name><index>[<expr><literal type="number">2</literal></expr>]</index><index>[<expr><name>ATRAC3P_SUBBANDS</name></expr>]</index></name></decl>;</decl_stmt> 

<decl_stmt><decl><type><name>AtracGainInfo</name> <modifier>*</modifier></type><name>gain_data</name></decl>;</decl_stmt> 

<decl_stmt><decl><type><name>AtracGainInfo</name> <modifier>*</modifier></type><name>gain_data_prev</name></decl>;</decl_stmt> 

<decl_stmt><decl><type><name>int</name></type> <name>num_gain_subbands</name></decl>;</decl_stmt> 

<decl_stmt><decl><type><name>Atrac3pWavesData</name></type> <name><name>tones_info_hist</name><index>[<expr><literal type="number">2</literal></expr>]</index><index>[<expr><name>ATRAC3P_SUBBANDS</name></expr>]</index></name></decl>;</decl_stmt>

<decl_stmt><decl><type><name>Atrac3pWavesData</name> <modifier>*</modifier></type><name>tones_info</name></decl>;</decl_stmt>

<decl_stmt><decl><type><name>Atrac3pWavesData</name> <modifier>*</modifier></type><name>tones_info_prev</name></decl>;</decl_stmt>

}</block></struct></type> <name>Atrac3pChanParams</name>;</typedef>

<typedef>typedef <type><struct>struct <name>Atrac3pWaveSynthParams</name> <block>{

<decl_stmt><decl><type><name>int</name></type> <name>tones_present</name></decl>;</decl_stmt> 

<decl_stmt><decl><type><name>int</name></type> <name>amplitude_mode</name></decl>;</decl_stmt> 

<decl_stmt><decl><type><name>int</name></type> <name>num_tone_bands</name></decl>;</decl_stmt> 

<decl_stmt><decl><type><name>uint8_t</name></type> <name><name>tone_sharing</name><index>[<expr><name>ATRAC3P_SUBBANDS</name></expr>]</index></name></decl>;</decl_stmt> 

<decl_stmt><decl><type><name>uint8_t</name></type> <name><name>tone_master</name><index>[<expr><name>ATRAC3P_SUBBANDS</name></expr>]</index></name></decl>;</decl_stmt> 

<decl_stmt><decl><type><name>uint8_t</name></type> <name><name>invert_phase</name><index>[<expr><name>ATRAC3P_SUBBANDS</name></expr>]</index></name></decl>;</decl_stmt> 

<decl_stmt><decl><type><name>int</name></type> <name>tones_index</name></decl>;</decl_stmt> 

<decl_stmt><decl><type><name>Atrac3pWaveParam</name></type> <name><name>waves</name><index>[<expr><literal type="number">48</literal></expr>]</index></name></decl>;</decl_stmt>

}</block></struct></type> <name>Atrac3pWaveSynthParams</name>;</typedef>

<typedef>typedef <type><struct>struct <name>Atrac3pChanUnitCtx</name> <block>{

<decl_stmt><decl><type><name>int</name></type> <name>unit_type</name></decl>;</decl_stmt> 

<decl_stmt><decl><type><name>int</name></type> <name>num_quant_units</name></decl>;</decl_stmt>

<decl_stmt><decl><type><name>int</name></type> <name>num_subbands</name></decl>;</decl_stmt>

<decl_stmt><decl><type><name>int</name></type> <name>used_quant_units</name></decl>;</decl_stmt> 

<decl_stmt><decl><type><name>int</name></type> <name>num_coded_subbands</name></decl>;</decl_stmt> 

<decl_stmt><decl><type><name>int</name></type> <name>mute_flag</name></decl>;</decl_stmt> 

<decl_stmt><decl><type><name>int</name></type> <name>use_full_table</name></decl>;</decl_stmt> 

<decl_stmt><decl><type><name>int</name></type> <name>noise_present</name></decl>;</decl_stmt> 

<decl_stmt><decl><type><name>int</name></type> <name>noise_level_index</name></decl>;</decl_stmt> 

<decl_stmt><decl><type><name>int</name></type> <name>noise_table_index</name></decl>;</decl_stmt> 

<decl_stmt><decl><type><name>uint8_t</name></type> <name><name>swap_channels</name><index>[<expr><name>ATRAC3P_SUBBANDS</name></expr>]</index></name></decl>;</decl_stmt> 

<decl_stmt><decl><type><name>uint8_t</name></type> <name><name>negate_coeffs</name><index>[<expr><name>ATRAC3P_SUBBANDS</name></expr>]</index></name></decl>;</decl_stmt> 

<decl_stmt><decl><type><name>Atrac3pChanParams</name></type> <name><name>channels</name><index>[<expr><literal type="number">2</literal></expr>]</index></name></decl>;</decl_stmt>

<decl_stmt><decl><type><name>Atrac3pWaveSynthParams</name></type> <name><name>wave_synth_hist</name><index>[<expr><literal type="number">2</literal></expr>]</index></name></decl>;</decl_stmt> 

<decl_stmt><decl><type><name>Atrac3pWaveSynthParams</name> <modifier>*</modifier></type><name>waves_info</name></decl>;</decl_stmt>

<decl_stmt><decl><type><name>Atrac3pWaveSynthParams</name> <modifier>*</modifier></type><name>waves_info_prev</name></decl>;</decl_stmt>

<decl_stmt><decl><type><name>Atrac3pIPQFChannelCtx</name></type> <name><name>ipqf_ctx</name><index>[<expr><literal type="number">2</literal></expr>]</index></name></decl>;</decl_stmt>

<expr_stmt><expr><call><name>DECLARE_ALIGNED</name><argument_list>(<argument><expr><literal type="number">32</literal></expr></argument>, <argument><expr><name>float</name></expr></argument>, <argument><expr><name>prev_buf</name></expr></argument>)</argument_list></call><index>[<expr><literal type="number">2</literal></expr>]</index><index>[<expr><name>ATRAC3P_FRAME_SAMPLES</name></expr>]</index></expr>;</expr_stmt> 

}</block></struct></type> <name>Atrac3pChanUnitCtx</name>;</typedef>

<function_decl><type><name>void</name></type> <name>ff_atrac3p_init_vlcs</name><parameter_list>(<parameter><decl><type><name>void</name></type></decl></parameter>)</parameter_list>;</function_decl>

<function_decl><type><name>int</name></type> <name>ff_atrac3p_decode_channel_unit</name><parameter_list>(<parameter><decl><type><name>GetBitContext</name> <modifier>*</modifier></type><name>gb</name></decl></parameter>, <parameter><decl><type><name>Atrac3pChanUnitCtx</name> <modifier>*</modifier></type><name>ctx</name></decl></parameter>,

<parameter><decl><type><name>int</name></type> <name>num_channels</name></decl></parameter>, <parameter><decl><type><name>AVCodecContext</name> <modifier>*</modifier></type><name>avctx</name></decl></parameter>)</parameter_list>;</function_decl>

<function_decl><type><name>void</name></type> <name>ff_atrac3p_init_imdct</name><parameter_list>(<parameter><decl><type><name>AVCodecContext</name> <modifier>*</modifier></type><name>avctx</name></decl></parameter>, <parameter><decl><type><name>FFTContext</name> <modifier>*</modifier></type><name>mdct_ctx</name></decl></parameter>)</parameter_list>;</function_decl>

<function_decl><type><name>void</name></type> <name>ff_atrac3p_init_wave_synth</name><parameter_list>(<parameter><decl><type><name>void</name></type></decl></parameter>)</parameter_list>;</function_decl>

<function_decl><type><name>void</name></type> <name>ff_atrac3p_generate_tones</name><parameter_list>(<parameter><decl><type><name>Atrac3pChanUnitCtx</name> <modifier>*</modifier></type><name>ch_unit</name></decl></parameter>, <parameter><decl><type><name>AVFloatDSPContext</name> <modifier>*</modifier></type><name>fdsp</name></decl></parameter>,

<parameter><decl><type><name>int</name></type> <name>ch_num</name></decl></parameter>, <parameter><decl><type><name>int</name></type> <name>sb</name></decl></parameter>, <parameter><decl><type><name>float</name> <modifier>*</modifier></type><name>out</name></decl></parameter>)</parameter_list>;</function_decl>

<function_decl><type><name>void</name></type> <name>ff_atrac3p_power_compensation</name><parameter_list>(<parameter><decl><type><name>Atrac3pChanUnitCtx</name> <modifier>*</modifier></type><name>ctx</name></decl></parameter>, <parameter><decl><type><name>AVFloatDSPContext</name> <modifier>*</modifier></type><name>fdsp</name></decl></parameter>,

<parameter><decl><type><name>int</name></type> <name>ch_index</name></decl></parameter>, <parameter><decl><type><name>float</name> <modifier>*</modifier></type><name>sp</name></decl></parameter>, <parameter><decl><type><name>int</name></type> <name>rng_index</name></decl></parameter>, <parameter><decl><type><name>int</name></type> <name>sb_num</name></decl></parameter>)</parameter_list>;</function_decl>

<function_decl><type><name>void</name></type> <name>ff_atrac3p_imdct</name><parameter_list>(<parameter><decl><type><name>AVFloatDSPContext</name> <modifier>*</modifier></type><name>fdsp</name></decl></parameter>, <parameter><decl><type><name>FFTContext</name> <modifier>*</modifier></type><name>mdct_ctx</name></decl></parameter>, <parameter><decl><type><name>float</name> <modifier>*</modifier></type><name>pIn</name></decl></parameter>,

<parameter><decl><type><name>float</name> <modifier>*</modifier></type><name>pOut</name></decl></parameter>, <parameter><decl><type><name>int</name></type> <name>wind_id</name></decl></parameter>, <parameter><decl><type><name>int</name></type> <name>sb</name></decl></parameter>)</parameter_list>;</function_decl>

<function_decl><type><name>void</name></type> <name>ff_atrac3p_ipqf</name><parameter_list>(<parameter><decl><type><name>FFTContext</name> <modifier>*</modifier></type><name>dct_ctx</name></decl></parameter>, <parameter><decl><type><name>Atrac3pIPQFChannelCtx</name> <modifier>*</modifier></type><name>hist</name></decl></parameter>,

<parameter><decl><type><specifier>const</specifier> <name>float</name> <modifier>*</modifier></type><name>in</name></decl></parameter>, <parameter><decl><type><name>float</name> <modifier>*</modifier></type><name>out</name></decl></parameter>)</parameter_list>;</function_decl>

<decl_stmt><decl><type><specifier>extern</specifier> <specifier>const</specifier> <name>uint16_t</name></type> <name><name>ff_atrac3p_qu_to_spec_pos</name><index>[<expr><literal type="number">33</literal></expr>]</index></name></decl>;</decl_stmt>

<decl_stmt><decl><type><specifier>extern</specifier> <specifier>const</specifier> <name>float</name></type> <name><name>ff_atrac3p_sf_tab</name><index>[<expr><literal type="number">64</literal></expr>]</index></name></decl>;</decl_stmt>

<decl_stmt><decl><type><specifier>extern</specifier> <specifier>const</specifier> <name>float</name></type> <name><name>ff_atrac3p_mant_tab</name><index>[<expr><literal type="number">8</literal></expr>]</index></name></decl>;</decl_stmt>

</unit>
