

















#ifndef AVUTIL_DYNARRAY_H
#define AVUTIL_DYNARRAY_H

#include "log.h"
#include "mem.h"





















#define FF_DYNARRAY_ADD(av_size_max, av_elt_size, av_array, av_size, av_success, av_failure) do { size_t av_size_new = (av_size); if (!((av_size) & ((av_size) - 1))) { av_size_new = (av_size) ? (av_size) << 1 : 1; if (av_size_new > (av_size_max) / (av_elt_size)) { av_size_new = 0; } else { void *av_array_new = av_realloc((av_array), av_size_new * (av_elt_size)); if (!av_array_new) av_size_new = 0; else (av_array) = av_array_new; } } if (av_size_new) { { av_success } (av_size)++; } else { av_failure } } while (0)
























#endif 
