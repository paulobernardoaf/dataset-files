
















#pragma once

#include "obs.h"

#if defined(__cplusplus)
#define MODULE_EXPORT extern "C" EXPORT
#define MODULE_EXTERN extern "C"
#else
#define MODULE_EXPORT EXPORT
#define MODULE_EXTERN extern
#endif















































#define OBS_DECLARE_MODULE() static obs_module_t *obs_module_pointer; MODULE_EXPORT void obs_module_set_pointer(obs_module_t *module); void obs_module_set_pointer(obs_module_t *module) { obs_module_pointer = module; } obs_module_t *obs_current_module(void) { return obs_module_pointer; } MODULE_EXPORT uint32_t obs_module_ver(void); uint32_t obs_module_ver(void) { return LIBOBS_API_VER; }


















MODULE_EXPORT bool obs_module_load(void);


MODULE_EXPORT void obs_module_unload(void);


MODULE_EXPORT void obs_module_post_load(void);


MODULE_EXPORT void obs_module_set_locale(const char *locale);


MODULE_EXPORT void obs_module_free_locale(void);


#define OBS_MODULE_USE_DEFAULT_LOCALE(module_name, default_locale) lookup_t *obs_module_lookup = NULL; const char *obs_module_text(const char *val) { const char *out = val; text_lookup_getstr(obs_module_lookup, val, &out); return out; } bool obs_module_get_string(const char *val, const char **out) { return text_lookup_getstr(obs_module_lookup, val, out); } void obs_module_set_locale(const char *locale) { if (obs_module_lookup) text_lookup_destroy(obs_module_lookup); obs_module_lookup = obs_module_load_locale( obs_current_module(), default_locale, locale); } void obs_module_free_locale(void) { text_lookup_destroy(obs_module_lookup); obs_module_lookup = NULL; }

























MODULE_EXTERN const char *obs_module_text(const char *lookup_string);



MODULE_EXTERN bool obs_module_get_string(const char *lookup_string,
const char **translated_string);


MODULE_EXTERN obs_module_t *obs_current_module(void);






#define obs_module_file(file) obs_find_module_file(obs_current_module(), file)







#define obs_module_config_path(file) obs_module_get_config_path(obs_current_module(), file)







#define OBS_MODULE_AUTHOR(name) MODULE_EXPORT const char *obs_module_author(void); const char *obs_module_author(void) { return name; }




MODULE_EXPORT const char *obs_module_name(void);


MODULE_EXPORT const char *obs_module_description(void);
