<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:cpp="http://www.srcML.org/srcML/cpp" revision="1.0.0" language="C" filename="D:\Pesquisa\Projects\_cppstats_featurelocations\vim\src\libvterm\src\unicode.c"><cpp:include>#<cpp:directive>include</cpp:directive> <cpp:file>"vterm_internal.h"</cpp:file></cpp:include>





































































<struct>struct <name>interval</name> <block>{
<decl_stmt><decl><type><name>int</name></type> <name>first</name></decl>;</decl_stmt>
<decl_stmt><decl><type><name>int</name></type> <name>last</name></decl>;</decl_stmt>
}</block>;</struct>

<cpp:if>#<cpp:directive>if</cpp:directive> <expr><operator>!</operator><call><name>defined</name><argument_list>(<argument><expr><name>WCWIDTH_FUNCTION</name></expr></argument>)</argument_list></call> <operator>||</operator> <operator>!</operator><call><name>defined</name><argument_list>(<argument><expr><name>IS_COMBINING_FUNCTION</name></expr></argument>)</argument_list></call></expr></cpp:if>




<decl_stmt><decl><type><specifier>static</specifier> <specifier>const</specifier> <name><name>struct</name> <name>interval</name></name></type> <name><name>combining</name><index>[]</index></name> <init>= <expr><block>{
<expr><block>{<expr><literal type="number">0X0300</literal></expr>, <expr><literal type="number">0X036F</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0483</literal></expr>, <expr><literal type="number">0X0489</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0591</literal></expr>, <expr><literal type="number">0X05BD</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X05BF</literal></expr>, <expr><literal type="number">0X05BF</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X05C1</literal></expr>, <expr><literal type="number">0X05C2</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X05C4</literal></expr>, <expr><literal type="number">0X05C5</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X05C7</literal></expr>, <expr><literal type="number">0X05C7</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0610</literal></expr>, <expr><literal type="number">0X061A</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X064B</literal></expr>, <expr><literal type="number">0X065F</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0670</literal></expr>, <expr><literal type="number">0X0670</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X06D6</literal></expr>, <expr><literal type="number">0X06DC</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X06DF</literal></expr>, <expr><literal type="number">0X06E4</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X06E7</literal></expr>, <expr><literal type="number">0X06E8</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X06EA</literal></expr>, <expr><literal type="number">0X06ED</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0711</literal></expr>, <expr><literal type="number">0X0711</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0730</literal></expr>, <expr><literal type="number">0X074A</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X07A6</literal></expr>, <expr><literal type="number">0X07B0</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X07EB</literal></expr>, <expr><literal type="number">0X07F3</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X07FD</literal></expr>, <expr><literal type="number">0X07FD</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0816</literal></expr>, <expr><literal type="number">0X0819</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X081B</literal></expr>, <expr><literal type="number">0X0823</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0825</literal></expr>, <expr><literal type="number">0X0827</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0829</literal></expr>, <expr><literal type="number">0X082D</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0859</literal></expr>, <expr><literal type="number">0X085B</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X08D3</literal></expr>, <expr><literal type="number">0X08E1</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X08E3</literal></expr>, <expr><literal type="number">0X0903</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X093A</literal></expr>, <expr><literal type="number">0X093C</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X093E</literal></expr>, <expr><literal type="number">0X094F</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0951</literal></expr>, <expr><literal type="number">0X0957</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0962</literal></expr>, <expr><literal type="number">0X0963</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0981</literal></expr>, <expr><literal type="number">0X0983</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X09BC</literal></expr>, <expr><literal type="number">0X09BC</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X09BE</literal></expr>, <expr><literal type="number">0X09C4</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X09C7</literal></expr>, <expr><literal type="number">0X09C8</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X09CB</literal></expr>, <expr><literal type="number">0X09CD</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X09D7</literal></expr>, <expr><literal type="number">0X09D7</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X09E2</literal></expr>, <expr><literal type="number">0X09E3</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X09FE</literal></expr>, <expr><literal type="number">0X09FE</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0A01</literal></expr>, <expr><literal type="number">0X0A03</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0A3C</literal></expr>, <expr><literal type="number">0X0A3C</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0A3E</literal></expr>, <expr><literal type="number">0X0A42</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0A47</literal></expr>, <expr><literal type="number">0X0A48</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0A4B</literal></expr>, <expr><literal type="number">0X0A4D</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0A51</literal></expr>, <expr><literal type="number">0X0A51</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0A70</literal></expr>, <expr><literal type="number">0X0A71</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0A75</literal></expr>, <expr><literal type="number">0X0A75</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0A81</literal></expr>, <expr><literal type="number">0X0A83</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0ABC</literal></expr>, <expr><literal type="number">0X0ABC</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0ABE</literal></expr>, <expr><literal type="number">0X0AC5</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0AC7</literal></expr>, <expr><literal type="number">0X0AC9</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0ACB</literal></expr>, <expr><literal type="number">0X0ACD</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0AE2</literal></expr>, <expr><literal type="number">0X0AE3</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0AFA</literal></expr>, <expr><literal type="number">0X0AFF</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0B01</literal></expr>, <expr><literal type="number">0X0B03</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0B3C</literal></expr>, <expr><literal type="number">0X0B3C</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0B3E</literal></expr>, <expr><literal type="number">0X0B44</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0B47</literal></expr>, <expr><literal type="number">0X0B48</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0B4B</literal></expr>, <expr><literal type="number">0X0B4D</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0B56</literal></expr>, <expr><literal type="number">0X0B57</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0B62</literal></expr>, <expr><literal type="number">0X0B63</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0B82</literal></expr>, <expr><literal type="number">0X0B82</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0BBE</literal></expr>, <expr><literal type="number">0X0BC2</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0BC6</literal></expr>, <expr><literal type="number">0X0BC8</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0BCA</literal></expr>, <expr><literal type="number">0X0BCD</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0BD7</literal></expr>, <expr><literal type="number">0X0BD7</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0C00</literal></expr>, <expr><literal type="number">0X0C04</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0C3E</literal></expr>, <expr><literal type="number">0X0C44</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0C46</literal></expr>, <expr><literal type="number">0X0C48</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0C4A</literal></expr>, <expr><literal type="number">0X0C4D</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0C55</literal></expr>, <expr><literal type="number">0X0C56</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0C62</literal></expr>, <expr><literal type="number">0X0C63</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0C81</literal></expr>, <expr><literal type="number">0X0C83</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0CBC</literal></expr>, <expr><literal type="number">0X0CBC</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0CBE</literal></expr>, <expr><literal type="number">0X0CC4</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0CC6</literal></expr>, <expr><literal type="number">0X0CC8</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0CCA</literal></expr>, <expr><literal type="number">0X0CCD</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0CD5</literal></expr>, <expr><literal type="number">0X0CD6</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0CE2</literal></expr>, <expr><literal type="number">0X0CE3</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0D00</literal></expr>, <expr><literal type="number">0X0D03</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0D3B</literal></expr>, <expr><literal type="number">0X0D3C</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0D3E</literal></expr>, <expr><literal type="number">0X0D44</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0D46</literal></expr>, <expr><literal type="number">0X0D48</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0D4A</literal></expr>, <expr><literal type="number">0X0D4D</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0D57</literal></expr>, <expr><literal type="number">0X0D57</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0D62</literal></expr>, <expr><literal type="number">0X0D63</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0D82</literal></expr>, <expr><literal type="number">0X0D83</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0DCA</literal></expr>, <expr><literal type="number">0X0DCA</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0DCF</literal></expr>, <expr><literal type="number">0X0DD4</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0DD6</literal></expr>, <expr><literal type="number">0X0DD6</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0DD8</literal></expr>, <expr><literal type="number">0X0DDF</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0DF2</literal></expr>, <expr><literal type="number">0X0DF3</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0E31</literal></expr>, <expr><literal type="number">0X0E31</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0E34</literal></expr>, <expr><literal type="number">0X0E3A</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0E47</literal></expr>, <expr><literal type="number">0X0E4E</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0EB1</literal></expr>, <expr><literal type="number">0X0EB1</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0EB4</literal></expr>, <expr><literal type="number">0X0EBC</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0EC8</literal></expr>, <expr><literal type="number">0X0ECD</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0F18</literal></expr>, <expr><literal type="number">0X0F19</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0F35</literal></expr>, <expr><literal type="number">0X0F35</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0F37</literal></expr>, <expr><literal type="number">0X0F37</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0F39</literal></expr>, <expr><literal type="number">0X0F39</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0F3E</literal></expr>, <expr><literal type="number">0X0F3F</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0F71</literal></expr>, <expr><literal type="number">0X0F84</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0F86</literal></expr>, <expr><literal type="number">0X0F87</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0F8D</literal></expr>, <expr><literal type="number">0X0F97</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0F99</literal></expr>, <expr><literal type="number">0X0FBC</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X0FC6</literal></expr>, <expr><literal type="number">0X0FC6</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X102B</literal></expr>, <expr><literal type="number">0X103E</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1056</literal></expr>, <expr><literal type="number">0X1059</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X105E</literal></expr>, <expr><literal type="number">0X1060</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1062</literal></expr>, <expr><literal type="number">0X1064</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1067</literal></expr>, <expr><literal type="number">0X106D</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1071</literal></expr>, <expr><literal type="number">0X1074</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1082</literal></expr>, <expr><literal type="number">0X108D</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X108F</literal></expr>, <expr><literal type="number">0X108F</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X109A</literal></expr>, <expr><literal type="number">0X109D</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X135D</literal></expr>, <expr><literal type="number">0X135F</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1712</literal></expr>, <expr><literal type="number">0X1714</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1732</literal></expr>, <expr><literal type="number">0X1734</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1752</literal></expr>, <expr><literal type="number">0X1753</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1772</literal></expr>, <expr><literal type="number">0X1773</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X17B4</literal></expr>, <expr><literal type="number">0X17D3</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X17DD</literal></expr>, <expr><literal type="number">0X17DD</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X180B</literal></expr>, <expr><literal type="number">0X180D</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1885</literal></expr>, <expr><literal type="number">0X1886</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X18A9</literal></expr>, <expr><literal type="number">0X18A9</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1920</literal></expr>, <expr><literal type="number">0X192B</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1930</literal></expr>, <expr><literal type="number">0X193B</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1A17</literal></expr>, <expr><literal type="number">0X1A1B</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1A55</literal></expr>, <expr><literal type="number">0X1A5E</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1A60</literal></expr>, <expr><literal type="number">0X1A7C</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1A7F</literal></expr>, <expr><literal type="number">0X1A7F</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1AB0</literal></expr>, <expr><literal type="number">0X1ABE</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1B00</literal></expr>, <expr><literal type="number">0X1B04</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1B34</literal></expr>, <expr><literal type="number">0X1B44</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1B6B</literal></expr>, <expr><literal type="number">0X1B73</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1B80</literal></expr>, <expr><literal type="number">0X1B82</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1BA1</literal></expr>, <expr><literal type="number">0X1BAD</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1BE6</literal></expr>, <expr><literal type="number">0X1BF3</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1C24</literal></expr>, <expr><literal type="number">0X1C37</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1CD0</literal></expr>, <expr><literal type="number">0X1CD2</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1CD4</literal></expr>, <expr><literal type="number">0X1CE8</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1CED</literal></expr>, <expr><literal type="number">0X1CED</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1CF4</literal></expr>, <expr><literal type="number">0X1CF4</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1CF7</literal></expr>, <expr><literal type="number">0X1CF9</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1DC0</literal></expr>, <expr><literal type="number">0X1DF9</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1DFB</literal></expr>, <expr><literal type="number">0X1DFF</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X20D0</literal></expr>, <expr><literal type="number">0X20F0</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X2CEF</literal></expr>, <expr><literal type="number">0X2CF1</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X2D7F</literal></expr>, <expr><literal type="number">0X2D7F</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X2DE0</literal></expr>, <expr><literal type="number">0X2DFF</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X302A</literal></expr>, <expr><literal type="number">0X302F</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X3099</literal></expr>, <expr><literal type="number">0X309A</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0XA66F</literal></expr>, <expr><literal type="number">0XA672</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0XA674</literal></expr>, <expr><literal type="number">0XA67D</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0XA69E</literal></expr>, <expr><literal type="number">0XA69F</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0XA6F0</literal></expr>, <expr><literal type="number">0XA6F1</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0XA802</literal></expr>, <expr><literal type="number">0XA802</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0XA806</literal></expr>, <expr><literal type="number">0XA806</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0XA80B</literal></expr>, <expr><literal type="number">0XA80B</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0XA823</literal></expr>, <expr><literal type="number">0XA827</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0XA880</literal></expr>, <expr><literal type="number">0XA881</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0XA8B4</literal></expr>, <expr><literal type="number">0XA8C5</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0XA8E0</literal></expr>, <expr><literal type="number">0XA8F1</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0XA8FF</literal></expr>, <expr><literal type="number">0XA8FF</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0XA926</literal></expr>, <expr><literal type="number">0XA92D</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0XA947</literal></expr>, <expr><literal type="number">0XA953</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0XA980</literal></expr>, <expr><literal type="number">0XA983</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0XA9B3</literal></expr>, <expr><literal type="number">0XA9C0</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0XA9E5</literal></expr>, <expr><literal type="number">0XA9E5</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0XAA29</literal></expr>, <expr><literal type="number">0XAA36</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0XAA43</literal></expr>, <expr><literal type="number">0XAA43</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0XAA4C</literal></expr>, <expr><literal type="number">0XAA4D</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0XAA7B</literal></expr>, <expr><literal type="number">0XAA7D</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0XAAB0</literal></expr>, <expr><literal type="number">0XAAB0</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0XAAB2</literal></expr>, <expr><literal type="number">0XAAB4</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0XAAB7</literal></expr>, <expr><literal type="number">0XAAB8</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0XAABE</literal></expr>, <expr><literal type="number">0XAABF</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0XAAC1</literal></expr>, <expr><literal type="number">0XAAC1</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0XAAEB</literal></expr>, <expr><literal type="number">0XAAEF</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0XAAF5</literal></expr>, <expr><literal type="number">0XAAF6</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0XABE3</literal></expr>, <expr><literal type="number">0XABEA</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0XABEC</literal></expr>, <expr><literal type="number">0XABED</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0XFB1E</literal></expr>, <expr><literal type="number">0XFB1E</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0XFE00</literal></expr>, <expr><literal type="number">0XFE0F</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0XFE20</literal></expr>, <expr><literal type="number">0XFE2F</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X101FD</literal></expr>, <expr><literal type="number">0X101FD</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X102E0</literal></expr>, <expr><literal type="number">0X102E0</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X10376</literal></expr>, <expr><literal type="number">0X1037A</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X10A01</literal></expr>, <expr><literal type="number">0X10A03</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X10A05</literal></expr>, <expr><literal type="number">0X10A06</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X10A0C</literal></expr>, <expr><literal type="number">0X10A0F</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X10A38</literal></expr>, <expr><literal type="number">0X10A3A</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X10A3F</literal></expr>, <expr><literal type="number">0X10A3F</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X10AE5</literal></expr>, <expr><literal type="number">0X10AE6</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X10D24</literal></expr>, <expr><literal type="number">0X10D27</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X10F46</literal></expr>, <expr><literal type="number">0X10F50</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X11000</literal></expr>, <expr><literal type="number">0X11002</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X11038</literal></expr>, <expr><literal type="number">0X11046</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1107F</literal></expr>, <expr><literal type="number">0X11082</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X110B0</literal></expr>, <expr><literal type="number">0X110BA</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X11100</literal></expr>, <expr><literal type="number">0X11102</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X11127</literal></expr>, <expr><literal type="number">0X11134</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X11145</literal></expr>, <expr><literal type="number">0X11146</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X11173</literal></expr>, <expr><literal type="number">0X11173</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X11180</literal></expr>, <expr><literal type="number">0X11182</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X111B3</literal></expr>, <expr><literal type="number">0X111C0</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X111C9</literal></expr>, <expr><literal type="number">0X111CC</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1122C</literal></expr>, <expr><literal type="number">0X11237</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1123E</literal></expr>, <expr><literal type="number">0X1123E</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X112DF</literal></expr>, <expr><literal type="number">0X112EA</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X11300</literal></expr>, <expr><literal type="number">0X11303</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1133B</literal></expr>, <expr><literal type="number">0X1133C</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1133E</literal></expr>, <expr><literal type="number">0X11344</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X11347</literal></expr>, <expr><literal type="number">0X11348</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1134B</literal></expr>, <expr><literal type="number">0X1134D</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X11357</literal></expr>, <expr><literal type="number">0X11357</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X11362</literal></expr>, <expr><literal type="number">0X11363</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X11366</literal></expr>, <expr><literal type="number">0X1136C</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X11370</literal></expr>, <expr><literal type="number">0X11374</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X11435</literal></expr>, <expr><literal type="number">0X11446</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1145E</literal></expr>, <expr><literal type="number">0X1145E</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X114B0</literal></expr>, <expr><literal type="number">0X114C3</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X115AF</literal></expr>, <expr><literal type="number">0X115B5</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X115B8</literal></expr>, <expr><literal type="number">0X115C0</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X115DC</literal></expr>, <expr><literal type="number">0X115DD</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X11630</literal></expr>, <expr><literal type="number">0X11640</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X116AB</literal></expr>, <expr><literal type="number">0X116B7</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1171D</literal></expr>, <expr><literal type="number">0X1172B</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1182C</literal></expr>, <expr><literal type="number">0X1183A</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X119D1</literal></expr>, <expr><literal type="number">0X119D7</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X119DA</literal></expr>, <expr><literal type="number">0X119E0</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X119E4</literal></expr>, <expr><literal type="number">0X119E4</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X11A01</literal></expr>, <expr><literal type="number">0X11A0A</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X11A33</literal></expr>, <expr><literal type="number">0X11A39</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X11A3B</literal></expr>, <expr><literal type="number">0X11A3E</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X11A47</literal></expr>, <expr><literal type="number">0X11A47</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X11A51</literal></expr>, <expr><literal type="number">0X11A5B</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X11A8A</literal></expr>, <expr><literal type="number">0X11A99</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X11C2F</literal></expr>, <expr><literal type="number">0X11C36</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X11C38</literal></expr>, <expr><literal type="number">0X11C3F</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X11C92</literal></expr>, <expr><literal type="number">0X11CA7</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X11CA9</literal></expr>, <expr><literal type="number">0X11CB6</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X11D31</literal></expr>, <expr><literal type="number">0X11D36</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X11D3A</literal></expr>, <expr><literal type="number">0X11D3A</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X11D3C</literal></expr>, <expr><literal type="number">0X11D3D</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X11D3F</literal></expr>, <expr><literal type="number">0X11D45</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X11D47</literal></expr>, <expr><literal type="number">0X11D47</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X11D8A</literal></expr>, <expr><literal type="number">0X11D8E</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X11D90</literal></expr>, <expr><literal type="number">0X11D91</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X11D93</literal></expr>, <expr><literal type="number">0X11D97</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X11EF3</literal></expr>, <expr><literal type="number">0X11EF6</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X16AF0</literal></expr>, <expr><literal type="number">0X16AF4</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X16B30</literal></expr>, <expr><literal type="number">0X16B36</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X16F4F</literal></expr>, <expr><literal type="number">0X16F4F</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X16F51</literal></expr>, <expr><literal type="number">0X16F87</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X16F8F</literal></expr>, <expr><literal type="number">0X16F92</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1BC9D</literal></expr>, <expr><literal type="number">0X1BC9E</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1D165</literal></expr>, <expr><literal type="number">0X1D169</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1D16D</literal></expr>, <expr><literal type="number">0X1D172</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1D17B</literal></expr>, <expr><literal type="number">0X1D182</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1D185</literal></expr>, <expr><literal type="number">0X1D18B</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1D1AA</literal></expr>, <expr><literal type="number">0X1D1AD</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1D242</literal></expr>, <expr><literal type="number">0X1D244</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1DA00</literal></expr>, <expr><literal type="number">0X1DA36</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1DA3B</literal></expr>, <expr><literal type="number">0X1DA6C</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1DA75</literal></expr>, <expr><literal type="number">0X1DA75</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1DA84</literal></expr>, <expr><literal type="number">0X1DA84</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1DA9B</literal></expr>, <expr><literal type="number">0X1DA9F</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1DAA1</literal></expr>, <expr><literal type="number">0X1DAAF</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1E000</literal></expr>, <expr><literal type="number">0X1E006</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1E008</literal></expr>, <expr><literal type="number">0X1E018</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1E01B</literal></expr>, <expr><literal type="number">0X1E021</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1E023</literal></expr>, <expr><literal type="number">0X1E024</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1E026</literal></expr>, <expr><literal type="number">0X1E02A</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1E130</literal></expr>, <expr><literal type="number">0X1E136</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1E2EC</literal></expr>, <expr><literal type="number">0X1E2EF</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1E8D0</literal></expr>, <expr><literal type="number">0X1E8D6</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0X1E944</literal></expr>, <expr><literal type="number">0X1E94A</literal></expr>}</block></expr>,
<expr><block>{<expr><literal type="number">0XE0100</literal></expr>, <expr><literal type="number">0XE01EF</literal></expr>}</block></expr>
}</block></expr></init></decl>;</decl_stmt>
<cpp:endif>#<cpp:directive>endif</cpp:directive></cpp:endif>


<function><type><specifier>static</specifier> <name>int</name></type> <name>bisearch</name><parameter_list>(<parameter><decl><type><name>uint32_t</name></type> <name>ucs</name></decl></parameter>, <parameter><decl><type><specifier>const</specifier> <name><name>struct</name> <name>interval</name></name> <modifier>*</modifier></type><name>table</name></decl></parameter>, <parameter><decl><type><name>int</name></type> <name>max</name></decl></parameter>)</parameter_list> <block>{<block_content>
<decl_stmt><decl><type><name>int</name></type> <name>min</name> <init>= <expr><literal type="number">0</literal></expr></init></decl>;</decl_stmt>
<decl_stmt><decl><type><name>int</name></type> <name>mid</name></decl>;</decl_stmt>

<if_stmt><if>if <condition>(<expr><operator>(</operator><name>int</name><operator>)</operator><name>ucs</name> <operator>&lt;</operator> <name><name>table</name><index>[<expr><literal type="number">0</literal></expr>]</index></name><operator>.</operator><name>first</name> <operator>||</operator> <operator>(</operator><name>int</name><operator>)</operator><name>ucs</name> <operator>&gt;</operator> <name><name>table</name><index>[<expr><name>max</name></expr>]</index></name><operator>.</operator><name>last</name></expr>)</condition><block type="pseudo"><block_content>
<return>return <expr><literal type="number">0</literal></expr>;</return></block_content></block></if></if_stmt>
<while>while <condition>(<expr><name>max</name> <operator>&gt;=</operator> <name>min</name></expr>)</condition> <block>{<block_content>
<expr_stmt><expr><name>mid</name> <operator>=</operator> <operator>(</operator><name>min</name> <operator>+</operator> <name>max</name><operator>)</operator> <operator>/</operator> <literal type="number">2</literal></expr>;</expr_stmt>
<if_stmt><if>if <condition>(<expr><operator>(</operator><name>int</name><operator>)</operator><name>ucs</name> <operator>&gt;</operator> <name><name>table</name><index>[<expr><name>mid</name></expr>]</index></name><operator>.</operator><name>last</name></expr>)</condition><block type="pseudo"><block_content>
<expr_stmt><expr><name>min</name> <operator>=</operator> <name>mid</name> <operator>+</operator> <literal type="number">1</literal></expr>;</expr_stmt></block_content></block></if>
<if type="elseif">else if <condition>(<expr><operator>(</operator><name>int</name><operator>)</operator><name>ucs</name> <operator>&lt;</operator> <name><name>table</name><index>[<expr><name>mid</name></expr>]</index></name><operator>.</operator><name>first</name></expr>)</condition><block type="pseudo"><block_content>
<expr_stmt><expr><name>max</name> <operator>=</operator> <name>mid</name> <operator>-</operator> <literal type="number">1</literal></expr>;</expr_stmt></block_content></block></if>
<else>else<block type="pseudo"><block_content>
<return>return <expr><literal type="number">1</literal></expr>;</return></block_content></block></else></if_stmt>
</block_content>}</block></while>

<return>return <expr><literal type="number">0</literal></expr>;</return>
</block_content>}</block></function>

































<cpp:if>#<cpp:directive>if</cpp:directive> <expr><call><name>defined</name><argument_list>(<argument><expr><name>WCWIDTH_FUNCTION</name></expr></argument>)</argument_list></call></expr></cpp:if>

<function_decl><type><name>int</name></type> <name>WCWIDTH_FUNCTION</name><parameter_list>(<parameter><decl><type><name>uint32_t</name></type> <name>ucs</name></decl></parameter>)</parameter_list>;</function_decl>
<cpp:else>#<cpp:directive>else</cpp:directive></cpp:else>
<cpp:define>#<cpp:directive>define</cpp:directive> <cpp:macro><name>WCWIDTH_FUNCTION</name></cpp:macro> <cpp:value>mk_wcwidth</cpp:value></cpp:define>

<function><type><specifier>static</specifier> <name>int</name></type> <name>mk_wcwidth</name><parameter_list>(<parameter><decl><type><name>uint32_t</name></type> <name>ucs</name></decl></parameter>)</parameter_list>
<block>{<block_content>

<if_stmt><if>if <condition>(<expr><name>ucs</name> <operator>==</operator> <literal type="number">0</literal></expr>)</condition><block type="pseudo"><block_content>
<return>return <expr><literal type="number">0</literal></expr>;</return></block_content></block></if></if_stmt>
<if_stmt><if>if <condition>(<expr><name>ucs</name> <operator>&lt;</operator> <literal type="number">32</literal> <operator>||</operator> <operator>(</operator><name>ucs</name> <operator>&gt;=</operator> <literal type="number">0x7f</literal> <operator>&amp;&amp;</operator> <name>ucs</name> <operator>&lt;</operator> <literal type="number">0xa0</literal><operator>)</operator></expr>)</condition><block type="pseudo"><block_content>
<return>return <expr><operator>-</operator><literal type="number">1</literal></expr>;</return></block_content></block></if></if_stmt>


<if_stmt><if>if <condition>(<expr><call><name>bisearch</name><argument_list>(<argument><expr><name>ucs</name></expr></argument>, <argument><expr><name>combining</name></expr></argument>,
<argument><expr><sizeof>sizeof<argument_list>(<argument><expr><name>combining</name></expr></argument>)</argument_list></sizeof> <operator>/</operator> <sizeof>sizeof<argument_list>(<argument><expr>struct <name>interval</name></expr></argument>)</argument_list></sizeof> <operator>-</operator> <literal type="number">1</literal></expr></argument>)</argument_list></call></expr>)</condition><block type="pseudo"><block_content>
<return>return <expr><literal type="number">0</literal></expr>;</return></block_content></block></if></if_stmt>



<return>return <expr><literal type="number">1</literal> <operator>+</operator>
<operator>(</operator><name>ucs</name> <operator>&gt;=</operator> <literal type="number">0x1100</literal> <operator>&amp;&amp;</operator>
<operator>(</operator><name>ucs</name> <operator>&lt;=</operator> <literal type="number">0x115f</literal> <operator>||</operator> 
<name>ucs</name> <operator>==</operator> <literal type="number">0x2329</literal> <operator>||</operator> <name>ucs</name> <operator>==</operator> <literal type="number">0x232a</literal> <operator>||</operator>
<operator>(</operator><name>ucs</name> <operator>&gt;=</operator> <literal type="number">0x2e80</literal> <operator>&amp;&amp;</operator> <name>ucs</name> <operator>&lt;=</operator> <literal type="number">0xa4cf</literal> <operator>&amp;&amp;</operator>
<name>ucs</name> <operator>!=</operator> <literal type="number">0x303f</literal><operator>)</operator> <operator>||</operator> 
<operator>(</operator><name>ucs</name> <operator>&gt;=</operator> <literal type="number">0xac00</literal> <operator>&amp;&amp;</operator> <name>ucs</name> <operator>&lt;=</operator> <literal type="number">0xd7a3</literal><operator>)</operator> <operator>||</operator> 
<operator>(</operator><name>ucs</name> <operator>&gt;=</operator> <literal type="number">0xf900</literal> <operator>&amp;&amp;</operator> <name>ucs</name> <operator>&lt;=</operator> <literal type="number">0xfaff</literal><operator>)</operator> <operator>||</operator> 
<operator>(</operator><name>ucs</name> <operator>&gt;=</operator> <literal type="number">0xfe10</literal> <operator>&amp;&amp;</operator> <name>ucs</name> <operator>&lt;=</operator> <literal type="number">0xfe19</literal><operator>)</operator> <operator>||</operator> 
<operator>(</operator><name>ucs</name> <operator>&gt;=</operator> <literal type="number">0xfe30</literal> <operator>&amp;&amp;</operator> <name>ucs</name> <operator>&lt;=</operator> <literal type="number">0xfe6f</literal><operator>)</operator> <operator>||</operator> 
<operator>(</operator><name>ucs</name> <operator>&gt;=</operator> <literal type="number">0xff00</literal> <operator>&amp;&amp;</operator> <name>ucs</name> <operator>&lt;=</operator> <literal type="number">0xff60</literal><operator>)</operator> <operator>||</operator> 
<operator>(</operator><name>ucs</name> <operator>&gt;=</operator> <literal type="number">0xffe0</literal> <operator>&amp;&amp;</operator> <name>ucs</name> <operator>&lt;=</operator> <literal type="number">0xffe6</literal><operator>)</operator> <operator>||</operator>
<operator>(</operator><name>ucs</name> <operator>&gt;=</operator> <literal type="number">0x20000</literal> <operator>&amp;&amp;</operator> <name>ucs</name> <operator>&lt;=</operator> <literal type="number">0x2fffd</literal><operator>)</operator> <operator>||</operator>
<operator>(</operator><name>ucs</name> <operator>&gt;=</operator> <literal type="number">0x30000</literal> <operator>&amp;&amp;</operator> <name>ucs</name> <operator>&lt;=</operator> <literal type="number">0x3fffd</literal><operator>)</operator><operator>)</operator><operator>)</operator></expr>;</return>
</block_content>}</block></function>
<cpp:endif>#<cpp:directive>endif</cpp:directive></cpp:endif>

<cpp:if>#<cpp:directive>if</cpp:directive> <expr><literal type="number">0</literal></expr></cpp:if> 
static int mk_wcswidth(const uint32_t *pwcs, size_t n)
{
int w, width = 0;

for (;*pwcs &amp;&amp; n-- &gt; 0; pwcs++)
if ((w = mk_wcwidth(*pwcs)) &lt; 0)
return -1;
else
width += w;

return width;
}











static int mk_wcwidth_cjk(uint32_t ucs)
{
<cpp:endif>#<cpp:directive>endif</cpp:directive></cpp:endif>


<decl_stmt><decl><type><specifier>static</specifier> <specifier>const</specifier> <name><name>struct</name> <name>interval</name></name></type> <name><name>ambiguous</name><index>[]</index></name> <init>= <expr><block>{
<expr><block>{ <expr><literal type="number">0x00A1</literal></expr>, <expr><literal type="number">0x00A1</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x00A4</literal></expr>, <expr><literal type="number">0x00A4</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x00A7</literal></expr>, <expr><literal type="number">0x00A8</literal></expr> }</block></expr>,
<expr><block>{ <expr><literal type="number">0x00AA</literal></expr>, <expr><literal type="number">0x00AA</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x00AE</literal></expr>, <expr><literal type="number">0x00AE</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x00B0</literal></expr>, <expr><literal type="number">0x00B4</literal></expr> }</block></expr>,
<expr><block>{ <expr><literal type="number">0x00B6</literal></expr>, <expr><literal type="number">0x00BA</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x00BC</literal></expr>, <expr><literal type="number">0x00BF</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x00C6</literal></expr>, <expr><literal type="number">0x00C6</literal></expr> }</block></expr>,
<expr><block>{ <expr><literal type="number">0x00D0</literal></expr>, <expr><literal type="number">0x00D0</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x00D7</literal></expr>, <expr><literal type="number">0x00D8</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x00DE</literal></expr>, <expr><literal type="number">0x00E1</literal></expr> }</block></expr>,
<expr><block>{ <expr><literal type="number">0x00E6</literal></expr>, <expr><literal type="number">0x00E6</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x00E8</literal></expr>, <expr><literal type="number">0x00EA</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x00EC</literal></expr>, <expr><literal type="number">0x00ED</literal></expr> }</block></expr>,
<expr><block>{ <expr><literal type="number">0x00F0</literal></expr>, <expr><literal type="number">0x00F0</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x00F2</literal></expr>, <expr><literal type="number">0x00F3</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x00F7</literal></expr>, <expr><literal type="number">0x00FA</literal></expr> }</block></expr>,
<expr><block>{ <expr><literal type="number">0x00FC</literal></expr>, <expr><literal type="number">0x00FC</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x00FE</literal></expr>, <expr><literal type="number">0x00FE</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x0101</literal></expr>, <expr><literal type="number">0x0101</literal></expr> }</block></expr>,
<expr><block>{ <expr><literal type="number">0x0111</literal></expr>, <expr><literal type="number">0x0111</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x0113</literal></expr>, <expr><literal type="number">0x0113</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x011B</literal></expr>, <expr><literal type="number">0x011B</literal></expr> }</block></expr>,
<expr><block>{ <expr><literal type="number">0x0126</literal></expr>, <expr><literal type="number">0x0127</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x012B</literal></expr>, <expr><literal type="number">0x012B</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x0131</literal></expr>, <expr><literal type="number">0x0133</literal></expr> }</block></expr>,
<expr><block>{ <expr><literal type="number">0x0138</literal></expr>, <expr><literal type="number">0x0138</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x013F</literal></expr>, <expr><literal type="number">0x0142</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x0144</literal></expr>, <expr><literal type="number">0x0144</literal></expr> }</block></expr>,
<expr><block>{ <expr><literal type="number">0x0148</literal></expr>, <expr><literal type="number">0x014B</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x014D</literal></expr>, <expr><literal type="number">0x014D</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x0152</literal></expr>, <expr><literal type="number">0x0153</literal></expr> }</block></expr>,
<expr><block>{ <expr><literal type="number">0x0166</literal></expr>, <expr><literal type="number">0x0167</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x016B</literal></expr>, <expr><literal type="number">0x016B</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x01CE</literal></expr>, <expr><literal type="number">0x01CE</literal></expr> }</block></expr>,
<expr><block>{ <expr><literal type="number">0x01D0</literal></expr>, <expr><literal type="number">0x01D0</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x01D2</literal></expr>, <expr><literal type="number">0x01D2</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x01D4</literal></expr>, <expr><literal type="number">0x01D4</literal></expr> }</block></expr>,
<expr><block>{ <expr><literal type="number">0x01D6</literal></expr>, <expr><literal type="number">0x01D6</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x01D8</literal></expr>, <expr><literal type="number">0x01D8</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x01DA</literal></expr>, <expr><literal type="number">0x01DA</literal></expr> }</block></expr>,
<expr><block>{ <expr><literal type="number">0x01DC</literal></expr>, <expr><literal type="number">0x01DC</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x0251</literal></expr>, <expr><literal type="number">0x0251</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x0261</literal></expr>, <expr><literal type="number">0x0261</literal></expr> }</block></expr>,
<expr><block>{ <expr><literal type="number">0x02C4</literal></expr>, <expr><literal type="number">0x02C4</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x02C7</literal></expr>, <expr><literal type="number">0x02C7</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x02C9</literal></expr>, <expr><literal type="number">0x02CB</literal></expr> }</block></expr>,
<expr><block>{ <expr><literal type="number">0x02CD</literal></expr>, <expr><literal type="number">0x02CD</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x02D0</literal></expr>, <expr><literal type="number">0x02D0</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x02D8</literal></expr>, <expr><literal type="number">0x02DB</literal></expr> }</block></expr>,
<expr><block>{ <expr><literal type="number">0x02DD</literal></expr>, <expr><literal type="number">0x02DD</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x02DF</literal></expr>, <expr><literal type="number">0x02DF</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x0391</literal></expr>, <expr><literal type="number">0x03A1</literal></expr> }</block></expr>,
<expr><block>{ <expr><literal type="number">0x03A3</literal></expr>, <expr><literal type="number">0x03A9</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x03B1</literal></expr>, <expr><literal type="number">0x03C1</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x03C3</literal></expr>, <expr><literal type="number">0x03C9</literal></expr> }</block></expr>,
<expr><block>{ <expr><literal type="number">0x0401</literal></expr>, <expr><literal type="number">0x0401</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x0410</literal></expr>, <expr><literal type="number">0x044F</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x0451</literal></expr>, <expr><literal type="number">0x0451</literal></expr> }</block></expr>,
<expr><block>{ <expr><literal type="number">0x2010</literal></expr>, <expr><literal type="number">0x2010</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x2013</literal></expr>, <expr><literal type="number">0x2016</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x2018</literal></expr>, <expr><literal type="number">0x2019</literal></expr> }</block></expr>,
<expr><block>{ <expr><literal type="number">0x201C</literal></expr>, <expr><literal type="number">0x201D</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x2020</literal></expr>, <expr><literal type="number">0x2022</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x2024</literal></expr>, <expr><literal type="number">0x2027</literal></expr> }</block></expr>,
<expr><block>{ <expr><literal type="number">0x2030</literal></expr>, <expr><literal type="number">0x2030</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x2032</literal></expr>, <expr><literal type="number">0x2033</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x2035</literal></expr>, <expr><literal type="number">0x2035</literal></expr> }</block></expr>,
<expr><block>{ <expr><literal type="number">0x203B</literal></expr>, <expr><literal type="number">0x203B</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x203E</literal></expr>, <expr><literal type="number">0x203E</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x2074</literal></expr>, <expr><literal type="number">0x2074</literal></expr> }</block></expr>,
<expr><block>{ <expr><literal type="number">0x207F</literal></expr>, <expr><literal type="number">0x207F</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x2081</literal></expr>, <expr><literal type="number">0x2084</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x20AC</literal></expr>, <expr><literal type="number">0x20AC</literal></expr> }</block></expr>,
<expr><block>{ <expr><literal type="number">0x2103</literal></expr>, <expr><literal type="number">0x2103</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x2105</literal></expr>, <expr><literal type="number">0x2105</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x2109</literal></expr>, <expr><literal type="number">0x2109</literal></expr> }</block></expr>,
<expr><block>{ <expr><literal type="number">0x2113</literal></expr>, <expr><literal type="number">0x2113</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x2116</literal></expr>, <expr><literal type="number">0x2116</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x2121</literal></expr>, <expr><literal type="number">0x2122</literal></expr> }</block></expr>,
<expr><block>{ <expr><literal type="number">0x2126</literal></expr>, <expr><literal type="number">0x2126</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x212B</literal></expr>, <expr><literal type="number">0x212B</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x2153</literal></expr>, <expr><literal type="number">0x2154</literal></expr> }</block></expr>,
<expr><block>{ <expr><literal type="number">0x215B</literal></expr>, <expr><literal type="number">0x215E</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x2160</literal></expr>, <expr><literal type="number">0x216B</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x2170</literal></expr>, <expr><literal type="number">0x2179</literal></expr> }</block></expr>,
<expr><block>{ <expr><literal type="number">0x2190</literal></expr>, <expr><literal type="number">0x2199</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x21B8</literal></expr>, <expr><literal type="number">0x21B9</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x21D2</literal></expr>, <expr><literal type="number">0x21D2</literal></expr> }</block></expr>,
<expr><block>{ <expr><literal type="number">0x21D4</literal></expr>, <expr><literal type="number">0x21D4</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x21E7</literal></expr>, <expr><literal type="number">0x21E7</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x2200</literal></expr>, <expr><literal type="number">0x2200</literal></expr> }</block></expr>,
<expr><block>{ <expr><literal type="number">0x2202</literal></expr>, <expr><literal type="number">0x2203</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x2207</literal></expr>, <expr><literal type="number">0x2208</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x220B</literal></expr>, <expr><literal type="number">0x220B</literal></expr> }</block></expr>,
<expr><block>{ <expr><literal type="number">0x220F</literal></expr>, <expr><literal type="number">0x220F</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x2211</literal></expr>, <expr><literal type="number">0x2211</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x2215</literal></expr>, <expr><literal type="number">0x2215</literal></expr> }</block></expr>,
<expr><block>{ <expr><literal type="number">0x221A</literal></expr>, <expr><literal type="number">0x221A</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x221D</literal></expr>, <expr><literal type="number">0x2220</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x2223</literal></expr>, <expr><literal type="number">0x2223</literal></expr> }</block></expr>,
<expr><block>{ <expr><literal type="number">0x2225</literal></expr>, <expr><literal type="number">0x2225</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x2227</literal></expr>, <expr><literal type="number">0x222C</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x222E</literal></expr>, <expr><literal type="number">0x222E</literal></expr> }</block></expr>,
<expr><block>{ <expr><literal type="number">0x2234</literal></expr>, <expr><literal type="number">0x2237</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x223C</literal></expr>, <expr><literal type="number">0x223D</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x2248</literal></expr>, <expr><literal type="number">0x2248</literal></expr> }</block></expr>,
<expr><block>{ <expr><literal type="number">0x224C</literal></expr>, <expr><literal type="number">0x224C</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x2252</literal></expr>, <expr><literal type="number">0x2252</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x2260</literal></expr>, <expr><literal type="number">0x2261</literal></expr> }</block></expr>,
<expr><block>{ <expr><literal type="number">0x2264</literal></expr>, <expr><literal type="number">0x2267</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x226A</literal></expr>, <expr><literal type="number">0x226B</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x226E</literal></expr>, <expr><literal type="number">0x226F</literal></expr> }</block></expr>,
<expr><block>{ <expr><literal type="number">0x2282</literal></expr>, <expr><literal type="number">0x2283</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x2286</literal></expr>, <expr><literal type="number">0x2287</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x2295</literal></expr>, <expr><literal type="number">0x2295</literal></expr> }</block></expr>,
<expr><block>{ <expr><literal type="number">0x2299</literal></expr>, <expr><literal type="number">0x2299</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x22A5</literal></expr>, <expr><literal type="number">0x22A5</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x22BF</literal></expr>, <expr><literal type="number">0x22BF</literal></expr> }</block></expr>,
<expr><block>{ <expr><literal type="number">0x2312</literal></expr>, <expr><literal type="number">0x2312</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x2460</literal></expr>, <expr><literal type="number">0x24E9</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x24EB</literal></expr>, <expr><literal type="number">0x254B</literal></expr> }</block></expr>,
<expr><block>{ <expr><literal type="number">0x2550</literal></expr>, <expr><literal type="number">0x2573</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x2580</literal></expr>, <expr><literal type="number">0x258F</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x2592</literal></expr>, <expr><literal type="number">0x2595</literal></expr> }</block></expr>,
<expr><block>{ <expr><literal type="number">0x25A0</literal></expr>, <expr><literal type="number">0x25A1</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x25A3</literal></expr>, <expr><literal type="number">0x25A9</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x25B2</literal></expr>, <expr><literal type="number">0x25B3</literal></expr> }</block></expr>,
<expr><block>{ <expr><literal type="number">0x25B6</literal></expr>, <expr><literal type="number">0x25B7</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x25BC</literal></expr>, <expr><literal type="number">0x25BD</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x25C0</literal></expr>, <expr><literal type="number">0x25C1</literal></expr> }</block></expr>,
<expr><block>{ <expr><literal type="number">0x25C6</literal></expr>, <expr><literal type="number">0x25C8</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x25CB</literal></expr>, <expr><literal type="number">0x25CB</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x25CE</literal></expr>, <expr><literal type="number">0x25D1</literal></expr> }</block></expr>,
<expr><block>{ <expr><literal type="number">0x25E2</literal></expr>, <expr><literal type="number">0x25E5</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x25EF</literal></expr>, <expr><literal type="number">0x25EF</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x2605</literal></expr>, <expr><literal type="number">0x2606</literal></expr> }</block></expr>,
<expr><block>{ <expr><literal type="number">0x2609</literal></expr>, <expr><literal type="number">0x2609</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x260E</literal></expr>, <expr><literal type="number">0x260F</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x2614</literal></expr>, <expr><literal type="number">0x2615</literal></expr> }</block></expr>,
<expr><block>{ <expr><literal type="number">0x261C</literal></expr>, <expr><literal type="number">0x261C</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x261E</literal></expr>, <expr><literal type="number">0x261E</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x2640</literal></expr>, <expr><literal type="number">0x2640</literal></expr> }</block></expr>,
<expr><block>{ <expr><literal type="number">0x2642</literal></expr>, <expr><literal type="number">0x2642</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x2660</literal></expr>, <expr><literal type="number">0x2661</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x2663</literal></expr>, <expr><literal type="number">0x2665</literal></expr> }</block></expr>,
<expr><block>{ <expr><literal type="number">0x2667</literal></expr>, <expr><literal type="number">0x266A</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x266C</literal></expr>, <expr><literal type="number">0x266D</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x266F</literal></expr>, <expr><literal type="number">0x266F</literal></expr> }</block></expr>,
<expr><block>{ <expr><literal type="number">0x273D</literal></expr>, <expr><literal type="number">0x273D</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x2776</literal></expr>, <expr><literal type="number">0x277F</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0xE000</literal></expr>, <expr><literal type="number">0xF8FF</literal></expr> }</block></expr>,
<expr><block>{ <expr><literal type="number">0xFFFD</literal></expr>, <expr><literal type="number">0xFFFD</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0xF0000</literal></expr>, <expr><literal type="number">0xFFFFD</literal></expr> }</block></expr>, <expr><block>{ <expr><literal type="number">0x100000</literal></expr>, <expr><literal type="number">0x10FFFD</literal></expr> }</block></expr>
}</block></expr></init></decl>;</decl_stmt>
<cpp:if>#<cpp:directive>if</cpp:directive> <expr><literal type="number">0</literal></expr></cpp:if>


if (bisearch(ucs, ambiguous,
sizeof(ambiguous) / sizeof(struct interval) - 1))
return 2;

return mk_wcwidth(ucs);
}

static int mk_wcswidth_cjk(const uint32_t *pwcs, size_t n)
{
int w, width = 0;

for (;*pwcs &amp;&amp; n-- &gt; 0; pwcs++)
if ((w = mk_wcwidth_cjk(*pwcs)) &lt; 0)
return -1;
else
width += w;

return width;
}
<cpp:endif>#<cpp:directive>endif</cpp:directive></cpp:endif>

<function><type><name>INTERNAL</name> <name>int</name></type> <name>vterm_unicode_is_ambiguous</name><parameter_list>(<parameter><decl><type><name>uint32_t</name></type> <name>codepoint</name></decl></parameter>)</parameter_list>
<block>{<block_content>
<return>return <expr><ternary><condition><expr><operator>(</operator><call><name>bisearch</name><argument_list>(<argument><expr><name>codepoint</name></expr></argument>, <argument><expr><name>ambiguous</name></expr></argument>,
<argument><expr><sizeof>sizeof<argument_list>(<argument><expr><name>ambiguous</name></expr></argument>)</argument_list></sizeof> <operator>/</operator> <sizeof>sizeof<argument_list>(<argument><expr>struct <name>interval</name></expr></argument>)</argument_list></sizeof> <operator>-</operator> <literal type="number">1</literal></expr></argument>)</argument_list></call><operator>)</operator></expr> ?</condition><then> <expr><literal type="number">1</literal></expr> </then><else>: <expr><literal type="number">0</literal></expr></else></ternary></expr>;</return>
</block_content>}</block></function>

<cpp:if>#<cpp:directive>if</cpp:directive> <expr><call><name>defined</name><argument_list>(<argument><expr><name>IS_COMBINING_FUNCTION</name></expr></argument>)</argument_list></call></expr></cpp:if>

<function_decl><type><name>int</name></type> <name>IS_COMBINING_FUNCTION</name><parameter_list>(<parameter><decl><type><name>uint32_t</name></type> <name>codepoint</name></decl></parameter>)</parameter_list>;</function_decl>
<cpp:else>#<cpp:directive>else</cpp:directive></cpp:else>
<cpp:define>#<cpp:directive>define</cpp:directive> <cpp:macro><name>IS_COMBINING_FUNCTION</name></cpp:macro> <cpp:value>vterm_is_combining</cpp:value></cpp:define>
<function><type><specifier>static</specifier> <name>int</name></type>
<name>vterm_is_combining</name><parameter_list>(<parameter><decl><type><name>uint32_t</name></type> <name>codepoint</name></decl></parameter>)</parameter_list>
<block>{<block_content>
<return>return <expr><call><name>bisearch</name><argument_list>(<argument><expr><name>codepoint</name></expr></argument>, <argument><expr><name>combining</name></expr></argument>, <argument><expr><sizeof>sizeof<argument_list>(<argument><expr><name>combining</name></expr></argument>)</argument_list></sizeof> <operator>/</operator> <sizeof>sizeof<argument_list>(<argument><expr>struct <name>interval</name></expr></argument>)</argument_list></sizeof> <operator>-</operator> <literal type="number">1</literal></expr></argument>)</argument_list></call></expr>;</return>
</block_content>}</block></function>
<cpp:endif>#<cpp:directive>endif</cpp:directive></cpp:endif>

<cpp:if>#<cpp:directive>if</cpp:directive> <expr><call><name>defined</name><argument_list>(<argument><expr><name>GET_SPECIAL_PTY_TYPE_FUNCTION</name></expr></argument>)</argument_list></call></expr></cpp:if>
<function_decl><type><name>int</name></type> <name>GET_SPECIAL_PTY_TYPE_FUNCTION</name><parameter_list>(<parameter><decl><type><name>void</name></type></decl></parameter>)</parameter_list>;</function_decl>
<cpp:else>#<cpp:directive>else</cpp:directive></cpp:else>
<cpp:define>#<cpp:directive>define</cpp:directive> <cpp:macro><name>GET_SPECIAL_PTY_TYPE_FUNCTION</name></cpp:macro> <cpp:value>vterm_get_special_pty_type_placeholder</cpp:value></cpp:define>
<function><type><specifier>static</specifier> <name>int</name></type>
<name>vterm_get_special_pty_type_placeholder</name><parameter_list>(<parameter><decl><type><name>void</name></type></decl></parameter>)</parameter_list>
<block>{<block_content>
<return>return <expr><literal type="number">0</literal></expr>;</return>
</block_content>}</block></function>
<cpp:endif>#<cpp:directive>endif</cpp:directive></cpp:endif>




<function><type><name>INTERNAL</name> <name>int</name></type> <name>vterm_unicode_width</name><parameter_list>(<parameter><decl><type><name>uint32_t</name></type> <name>codepoint</name></decl></parameter>)</parameter_list>
<block>{<block_content>
<return>return <expr><call><name>WCWIDTH_FUNCTION</name><argument_list>(<argument><expr><name>codepoint</name></expr></argument>)</argument_list></call></expr>;</return>
</block_content>}</block></function>

<function><type><name>INTERNAL</name> <name>int</name></type> <name>vterm_unicode_is_combining</name><parameter_list>(<parameter><decl><type><name>uint32_t</name></type> <name>codepoint</name></decl></parameter>)</parameter_list>
<block>{<block_content>
<return>return <expr><call><name>IS_COMBINING_FUNCTION</name><argument_list>(<argument><expr><name>codepoint</name></expr></argument>)</argument_list></call></expr>;</return>
</block_content>}</block></function>

<function><type><name>INTERNAL</name> <name>int</name></type> <name>vterm_get_special_pty_type</name><parameter_list>(<parameter><decl><type><name>void</name></type></decl></parameter>)</parameter_list>
<block>{<block_content>
<return>return <expr><call><name>GET_SPECIAL_PTY_TYPE_FUNCTION</name><argument_list>()</argument_list></call></expr>;</return>
</block_content>}</block></function>
</unit>
